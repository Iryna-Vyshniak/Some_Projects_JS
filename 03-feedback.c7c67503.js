function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={};n=function e(t,n,o){function r(a,c){if(!n[a]){if(!t[a]){var l=void 0;if(!c&&l)return l(a,!0);if(i)return i(a,!0);var s=new Error("Cannot find module '"+a+"'");throw s.code="MODULE_NOT_FOUND",s}var u=n[a]={exports:{}};t[a][0].call(u.exports,(function(e){return r(t[a][1][e]||e)}),u,u.exports,e,t,n,o)}return n[a].exports}for(var i=void 0,a=0;a<o.length;a++)r(o[a]);return r}({1:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.create=n.visible=void 0;var o=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=document.createElement("div");return n.innerHTML=e.trim(),!0===t?n.children:n.firstChild},r=function(e,t){var n=e.children;return 1===n.length&&n[0].tagName===t},i=function(e){return null!=(e=e||document.querySelector(".basicLightbox"))&&!0===e.ownerDocument.body.contains(e)};n.visible=i,n.create=function(e,t){var n=function(e,t){var n=o('\n\t\t<div class="basicLightbox '.concat(t.className,'">\n\t\t\t<div class="basicLightbox__placeholder" role="dialog"></div>\n\t\t</div>\n\t')),i=n.querySelector(".basicLightbox__placeholder");e.forEach((function(e){return i.appendChild(e)}));var a=r(i,"IMG"),c=r(i,"VIDEO"),l=r(i,"IFRAME");return!0===a&&n.classList.add("basicLightbox--img"),!0===c&&n.classList.add("basicLightbox--video"),!0===l&&n.classList.add("basicLightbox--iframe"),n}(e=function(e){var t="string"==typeof e,n=e instanceof HTMLElement==1;if(!1===t&&!1===n)throw new Error("Content must be a DOM element/node or string");return!0===t?Array.from(o(e,!0)):"TEMPLATE"===e.tagName?[e.content.cloneNode(!0)]:Array.from(e.children)}(e),t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(null==(e=Object.assign({},e)).closable&&(e.closable=!0),null==e.className&&(e.className=""),null==e.onShow&&(e.onShow=function(){}),null==e.onClose&&(e.onClose=function(){}),"boolean"!=typeof e.closable)throw new Error("Property `closable` must be a boolean");if("string"!=typeof e.className)throw new Error("Property `className` must be a string");if("function"!=typeof e.onShow)throw new Error("Property `onShow` must be a function");if("function"!=typeof e.onClose)throw new Error("Property `onClose` must be a function");return e}(t)),a=function(e){return!1!==t.onClose(c)&&function(e,t){return e.classList.remove("basicLightbox--visible"),setTimeout((function(){return!1===i(e)||e.parentElement.removeChild(e),t()}),410),!0}(n,(function(){if("function"==typeof e)return e(c)}))};!0===t.closable&&n.addEventListener("click",(function(e){e.target===n&&a()}));var c={element:function(){return n},visible:function(){return i(n)},show:function(e){return!1!==t.onShow(c)&&function(e,t){return document.body.appendChild(e),setTimeout((function(){requestAnimationFrame((function(){return e.classList.add("basicLightbox--visible"),t()}))}),10),!0}(n,(function(){if("function"==typeof e)return e(c)}))},close:a};return c}},{}]},{},[1])(1);var o,r=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,c=/^0o[0-7]+$/i,l=parseInt,s="object"==typeof t&&t&&t.Object===Object&&t,u="object"==typeof self&&self&&self.Object===Object&&self,f=s||u||Function("return this")(),d=Object.prototype.toString,m=Math.max,b=Math.min,v=function(){return f.Date.now()};function p(e,t,n){var o,r,i,a,c,l,s=0,u=!1,f=!1,d=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function p(t){var n=o,i=r;return o=r=void 0,s=t,a=e.apply(i,n)}function h(e){return s=e,c=setTimeout(L,t),u?p(e):a}function w(e){var n=e-l;return void 0===l||n>=t||n<0||f&&e-s>=i}function L(){var e=v();if(w(e))return E(e);c=setTimeout(L,function(e){var n=t-(e-l);return f?b(n,i-(e-s)):n}(e))}function E(e){return c=void 0,d&&o?p(e):(o=r=void 0,a)}function S(){var e=v(),n=w(e);if(o=arguments,r=this,l=e,n){if(void 0===c)return h(l);if(f)return c=setTimeout(L,t),p(l)}return void 0===c&&(c=setTimeout(L,t)),a}return t=y(t)||0,g(n)&&(u=!!n.leading,i=(f="maxWait"in n)?m(y(n.maxWait)||0,t):i,d="trailing"in n?!!n.trailing:d),S.cancel=function(){void 0!==c&&clearTimeout(c),s=0,o=l=r=c=void 0},S.flush=function(){return void 0===c?a:E(v())},S}function g(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function y(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==d.call(e)}(e))return NaN;if(g(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=g(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var n=a.test(e);return n||c.test(e)?l(e.slice(2),n?2:8):i.test(e)?NaN:+e}o=function(e,t,n){var o=!0,r=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return g(n)&&(o="leading"in n?!!n.leading:o,r="trailing"in n?!!n.trailing:r),p(e,t,{leading:o,maxWait:t,trailing:r})};const h=document.querySelector(".js-modal-form");h.addEventListener("click",(function(t){t.preventDefault(),t.target.classList.contains("active")&&t.target.classList.remove("active");!function(){const t=n.create(L,{onShow:e=>{e.element().querySelector(".js-modal__close-btn").onclick=e.close,window.addEventListener("keydown",d)},onClose:e=>{window.removeEventListener("keydown",d),setTimeout((()=>{h.classList.add("active")}),500)}});t.show();const r=document.querySelector(".feedback-form"),i=r.querySelector(".js-feedback-form__email"),a=r.querySelector(".feedback-form  textarea"),c=r.querySelector(".js-feedback-form__email + span"),l=r.querySelector('[type="submit"]');function s(e){e.preventDefault(),localStorage.getItem("feedback-form-state")&&localStorage.removeItem("feedback-form-state");const{email:t,message:n}=e.currentTarget.elements;console.log({email:t.value,message:n.value}),e.currentTarget.reset()}function u(e){let t=localStorage.getItem("feedback-form-state");t=t?JSON.parse(t):{},t={email:i.value.trim(),message:a.value.trim()},localStorage.setItem("feedback-form-state",JSON.stringify(t))}function f(){let e=localStorage.getItem("feedback-form-state");e&&(e=JSON.parse(e),Object.entries(e).forEach((([e,t])=>{r.elements[e].value=null!=t?t:""})))}function d(e){"Escape"===e.code&&t.close()}function m(e){const t=e.currentTarget,{value:n}=e.currentTarget;n.includes("@")&&n.includes(".")?(t.classList.add("valid"),t.classList.remove("invalid"),l.disabled=!1):(t.classList.add("invalid"),t.classList.remove("valid"),c.innerHTML=w,setTimeout((()=>{c.innerHTML=""}),8e3))}f(),r.addEventListener("submit",s),r.addEventListener("input",e(o)(u,500)),i.addEventListener("blur",m)}()}));const w="<p class=\"error\" style='align-self: center; margin: 5px 0; color: red; text-align: center; font-size: 1rem; font-style: italic;'>Your email must include @ and . </p>";const L=' <div class="feedback-modal">\n     <button\n      class="feedback-modal__close-btn js-modal__close-btn"\n      aria-label="close modal window"\n    >&#10005;\n    </button>\n            <form class="feedback-form" autocomplete="off">\n              <label>\n                Email\n                <input class="feedback-form__email js-feedback-form__email" type="email" name="email" autofocus>\n                <span></span>\n              </label>\n              <label>\n                Message\n                <textarea name="message" rows="8"></textarea>\n              </label>\n              <button type="submit" disabled>Submit</button>\n            </form></div>';
//# sourceMappingURL=03-feedback.c7c67503.js.map
