{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,S,aAIMC,EAAUC,SAASC,cAAc,uBACjCC,EAAYF,SAASC,cAAc,eAIzC,SAASE,I,IAAgBC,EAAAC,UAAAC,OAAA,YAAAD,UAAA,GAAQA,UAAA,GAAD,EAC9B,OAAOE,MAAM,mDAAwDC,OAALJ,IAAQK,MACtE,SAAAC,GACE,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,YAE3B,OAAOH,EAASI,M,IAOtB,IAAMC,EAAoB,CACxBC,WAAY,GACZC,aAjBe,GAkBfC,aAAc,EACdC,KAAM,EACNC,aAAa,EACbC,mBAAoB,kBACpBC,kBAAmB,iBACnBC,iBAAiB,EACjBC,SAAU,CACRL,KAAM,gDACNM,YACE,iEACFC,WACE,mGAGFC,mBACE,gHAGFC,WACE,sGAkCFC,EAAU,KAGZA,EADEC,OAAOC,OAAOC,OAAS,IA9BF,CACvBhB,WAAY,EACZC,aAAc,GACdC,aAAc,EACdC,KAAM,EACNC,aAAa,EACbC,mBAAoB,kBACpBC,kBAAmB,iBACnBC,iBAAiB,EACjBC,SAAU,CACRL,KAAM,gDACNM,YACE,iEACFC,WACE,mGAGFC,mBACE,gHAGFC,WACE,sGAWMb,EAGZ,IAAMkB,EAAa,IAAIC,EAAArC,GAAJ,CAAeK,EAAW2B,GACvCM,EAAOF,EAAWG,iBA8CxB,SAASC,EAAaC,GACpB,IAAMC,EAASD,EACZE,KACC,SAAAC,G,IAAGC,EAAID,EAAJC,KAAMC,EAAKF,EAALE,MAAOC,EAAOH,EAAPG,Q,MAAc,uGAGDpC,OAAfmC,EAAM,WAGFnC,OAHWkC,EAAK,wDAIflC,OADDkC,EAAK,mCAgBblC,OAfSoC,EAAQ,4kBAoBjBpC,OALAqC,EAAa,KAAM,yJASnBrC,OAJAqC,EAAa,KAAM,wGAIArC,OAAnBqC,EAAa,KAAM,mD,IAK9BC,KAAK,IACR/C,EAAQgD,UAAYR,C,CArFtBS,QAAQC,IAAId,GAEZF,EAAWiB,GAAG,aAAa,WACzBpB,OAAOqB,SAAS,CAAEC,IAAK,EAAGC,SAAU,U;;AAKtClD,EAAgBgC,GACb1B,MAAK,SAAAgC,G,IAAGa,EAAab,EAAbc,KAAQD,MAASE,EAAOf,EAAPe,QACxBR,QAAQC,IACN,aACQd,EACR,qBACemB,EACf,YACAE,GAEGA,EAAQlD,QACXmD,EAAAC,OAAOC,QACL,cACI,2CACJ,QAGJ1B,EAAW2B,MAAMN,GACjBjB,EAAamB,E,IAEdK,OAAM,SAAAC,G,OAAOd,QAAQC,IAAIa,E,IAI5B7B,EAAWiB,GAAG,aAEd,SAAuBa,GACrB,IAAMtC,EAAcsC,EAAE5C,KACtB6B,QAAQC,IAAIxB,GACZtB,EAAgBsB,GACbhB,MAAK,SAAAgC,GACJJ,EADcI,EAAPe,Q,IAGRK,OAAM,SAAAC,G,OAAOd,QAAQC,IAAIa,E,OA+C9B,IAAMjB,EAAe,SAAAmB,GACnB,OAAOC,KAAKC,MAAMD,KAAKE,SAAWH,EAAM,I","sources":["src/app/07-pagination.js"],"sourcesContent":["import Pagination from 'tui-pagination';\nimport 'tui-pagination/dist/tui-pagination.css';\nimport { Report } from 'notiflix/build/notiflix-report-aio';\n\nconst gallery = document.querySelector('#pagination-gallery');\nconst container = document.querySelector('#pagination');\n\nconst PER_PAGE = 20;\n\nfunction rickandmortyAPI(page = 1) {\n  return fetch(`https://rickandmortyapi.com/api/character/?page=${page}`).then(\n    response => {\n      if (!response.ok) {\n        throw new Error(response.statusText);\n      }\n      return response.json();\n    }\n  );\n}\n\n// !---- PAGINATION ----------------------------\n\nconst paginationOptions = {\n  totalItems: 10,\n  itemsPerPage: PER_PAGE, // per_page in fetch\n  visiblePages: 7,\n  page: 1,\n  centerAlign: true,\n  firstItemClassName: 'tui-first-child',\n  lastItemClassName: 'tui-last-child',\n  usageStatistics: false,\n  template: {\n    page: '<a href=\"#\" class=\"tui-page-btn\">{{page}}</a>',\n    currentPage:\n      '<strong class=\"tui-page-btn tui-is-selected\">{{page}}</strong>',\n    moveButton:\n      '<a href=\"#\" class=\"tui-page-btn tui-{{type}}\">' +\n      '<span class=\"tui-ico-{{type}}\">{{type}}</span>' +\n      '</a>',\n    disabledMoveButton:\n      '<span class=\"tui-page-btn tui-is-disabled tui-{{type}}\">' +\n      '<span class=\"tui-ico-{{type}}\">{{type}}</span>' +\n      '</span>',\n    moreButton:\n      '<a href=\"#\" class=\"tui-page-btn tui-{{type}}-is-ellip\">' +\n      '<span class=\"tui-ico-ellip\">...</span>' +\n      '</a>',\n  },\n};\n\nconst paginOptionsLess = {\n  totalItems: 0,\n  itemsPerPage: 20,\n  visiblePages: 3,\n  page: 1,\n  centerAlign: true,\n  firstItemClassName: 'tui-first-child',\n  lastItemClassName: 'tui-last-child',\n  usageStatistics: false,\n  template: {\n    page: '<a href=\"#\" class=\"tui-page-btn\">{{page}}</a>',\n    currentPage:\n      '<strong class=\"tui-page-btn tui-is-selected\">{{page}}</strong>',\n    moveButton:\n      '<a href=\"#\" class=\"tui-page-btn tui-{{type}}\">' +\n      '<span class=\"tui-ico-{{type}}\">{{type}}</span>' +\n      '</a>',\n    disabledMoveButton:\n      '<span class=\"tui-page-btn tui-is-disabled tui-{{type}}\">' +\n      '<span class=\"tui-ico-{{type}}\">{{type}}</span>' +\n      '</span>',\n    moreButton:\n      '<a href=\"#\" class=\"tui-page-btn tui-{{type}}-is-ellip\">' +\n      '<span class=\"tui-ico-ellip\">...</span>' +\n      '</a>',\n  },\n};\n\nlet options = null;\n\nif (window.screen.width <= 480) {\n  options = paginOptionsLess;\n} else {\n  options = paginationOptions;\n}\n\nconst pagination = new Pagination(container, options);\nconst page = pagination.getCurrentPage();\nconsole.log(page);\n\npagination.on('afterMove', () => {\n  window.scrollTo({ top: 0, behavior: 'smooth' });\n});\n\n//! --------------------- FETCH API ---------------\n\nrickandmortyAPI(page)\n  .then(({ info: { count }, results }) => {\n    console.log(\n      'сторінка: ',\n      page,\n      'всього зображень: ',\n      count,\n      'results: ',\n      results\n    );\n    if (!results.length) {\n      Report.failure(\n        '🥺 Ooops...',\n        `We don't find any cards with heroes\" 🥺`,\n        'Okay'\n      );\n    }\n    pagination.reset(count);\n    createMarkup(results);\n  })\n  .catch(err => console.log(err));\n\n// !---- PAGINATION ----------------------------\n\npagination.on('afterMove', loadMoreCards); // on => likes on addEventListener\n\nfunction loadMoreCards(e) {\n  const currentPage = e.page;\n  console.log(currentPage);\n  rickandmortyAPI(currentPage)\n    .then(({ results }) => {\n      createMarkup(results);\n    })\n    .catch(err => console.log(err));\n}\n\n// !------------ CREATE MARKUP ---------------------\nfunction createMarkup(arr) {\n  const markup = arr\n    .map(\n      ({ name, image, species }) => `<li class=\"wrapper\">\n    <div class=\"img-area\">\n      <div class=\"inner-area\">\n        <img src=\"${image}\" alt=\"${name}\">\n      </div>\n    </div>\n    <div class=\"name\">${name}</div>\n    <div class=\"about\">${species}</div>\n    <div class=\"social-icons\">\n      <a href=\"#\" class=\"fb\"><i class=\"fab fa-facebook-f\"></i></a>\n      <a href=\"#\" class=\"twitter\"><i class=\"fab fa-twitter\"></i></a>\n      <a href=\"#\" class=\"insta\"><i class=\"fab fa-instagram\"></i></a>\n      <a href=\"#\" class=\"yt\"><i class=\"fab fa-youtube\"></i></a>\n    </div>\n    <div class=\"buttons\">\n      <button>Message</button>\n      <button>Subscribe</button>\n    </div>\n    <div class=\"social-share\">\n      <div class=\"row\">\n        <i class=\"far fa-heart\"></i>\n        <i class=\"icon-2 fas fa-heart\"></i>\n        <span>${randomNumber(1000)}</span>\n      </div>\n      <div class=\"row\">\n        <i class=\"far fa-comment\"></i>\n        <i class=\"icon-2 fas fa-comment\"></i>\n        <span>${randomNumber(1000)}</span>\n      </div>\n      <div class=\"row\">\n        <i class=\"fas fa-share\"></i>\n        <span>${randomNumber(1000)}</span>\n      </div>\n    </div>\n        </li>`\n    )\n    .join('');\n  gallery.innerHTML = markup;\n}\n\nconst randomNumber = max => {\n  return Math.floor(Math.random() * max + 1000);\n};\n"],"names":["$1VFfL","parcelRequire","$0f34aac6e4187a1c$var$gallery","document","querySelector","$0f34aac6e4187a1c$var$container","$0f34aac6e4187a1c$var$rickandmortyAPI","page1","arguments","length","fetch","concat","then","response","ok","Error","statusText","json","$0f34aac6e4187a1c$var$paginationOptions","totalItems","itemsPerPage","visiblePages","page","centerAlign","firstItemClassName","lastItemClassName","usageStatistics","template","currentPage","moveButton","disabledMoveButton","moreButton","$0f34aac6e4187a1c$var$options","window","screen","width","$0f34aac6e4187a1c$var$pagination","$parcel$interopDefault","$0f34aac6e4187a1c$var$page","getCurrentPage","$0f34aac6e4187a1c$var$createMarkup","arr","markup","map","param","name","image","species","$0f34aac6e4187a1c$var$randomNumber","join","innerHTML","console","log","on","scrollTo","top","behavior","count","info","results","$fivgP","Report","failure","reset","catch","err","e","max","Math","floor","random"],"version":3,"file":"07-pagination.84f917ae.js.map"}