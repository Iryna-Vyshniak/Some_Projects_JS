function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={};n=function e(t,n,o){function r(a,c){if(!n[a]){if(!t[a]){var l=void 0;if(!c&&l)return l(a,!0);if(i)return i(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var s=n[a]={exports:{}};t[a][0].call(s.exports,(function(e){return r(t[a][1][e]||e)}),s,s.exports,e,t,n,o)}return n[a].exports}for(var i=void 0,a=0;a<o.length;a++)r(o[a]);return r}({1:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.create=n.visible=void 0;var o=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=document.createElement("div");return n.innerHTML=e.trim(),!0===t?n.children:n.firstChild},r=function(e,t){var n=e.children;return 1===n.length&&n[0].tagName===t},i=function(e){return null!=(e=e||document.querySelector(".basicLightbox"))&&!0===e.ownerDocument.body.contains(e)};n.visible=i,n.create=function(e,t){var n=function(e,t){var n=o('\n\t\t<div class="basicLightbox '.concat(t.className,'">\n\t\t\t<div class="basicLightbox__placeholder" role="dialog"></div>\n\t\t</div>\n\t')),i=n.querySelector(".basicLightbox__placeholder");e.forEach((function(e){return i.appendChild(e)}));var a=r(i,"IMG"),c=r(i,"VIDEO"),l=r(i,"IFRAME");return!0===a&&n.classList.add("basicLightbox--img"),!0===c&&n.classList.add("basicLightbox--video"),!0===l&&n.classList.add("basicLightbox--iframe"),n}(e=function(e){var t="string"==typeof e,n=e instanceof HTMLElement==1;if(!1===t&&!1===n)throw new Error("Content must be a DOM element/node or string");return!0===t?Array.from(o(e,!0)):"TEMPLATE"===e.tagName?[e.content.cloneNode(!0)]:Array.from(e.children)}(e),t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(null==(e=Object.assign({},e)).closable&&(e.closable=!0),null==e.className&&(e.className=""),null==e.onShow&&(e.onShow=function(){}),null==e.onClose&&(e.onClose=function(){}),"boolean"!=typeof e.closable)throw new Error("Property `closable` must be a boolean");if("string"!=typeof e.className)throw new Error("Property `className` must be a string");if("function"!=typeof e.onShow)throw new Error("Property `onShow` must be a function");if("function"!=typeof e.onClose)throw new Error("Property `onClose` must be a function");return e}(t)),a=function(e){return!1!==t.onClose(c)&&function(e,t){return e.classList.remove("basicLightbox--visible"),setTimeout((function(){return!1===i(e)||e.parentElement.removeChild(e),t()}),410),!0}(n,(function(){if("function"==typeof e)return e(c)}))};!0===t.closable&&n.addEventListener("click",(function(e){e.target===n&&a()}));var c={element:function(){return n},visible:function(){return i(n)},show:function(e){return!1!==t.onShow(c)&&function(e,t){return document.body.appendChild(e),setTimeout((function(){requestAnimationFrame((function(){return e.classList.add("basicLightbox--visible"),t()}))}),10),!0}(n,(function(){if("function"==typeof e)return e(c)}))},close:a};return c}},{}]},{},[1])(1);var o,r=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,c=/^0o[0-7]+$/i,l=parseInt,u="object"==typeof t&&t&&t.Object===Object&&t,s="object"==typeof self&&self&&self.Object===Object&&self,f=u||s||Function("return this")(),d=Object.prototype.toString,m=Math.max,b=Math.min,v=function(){return f.Date.now()};function p(e,t,n){var o,r,i,a,c,l,u=0,s=!1,f=!1,d=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function p(t){var n=o,i=r;return o=r=void 0,u=t,a=e.apply(i,n)}function y(e){return u=e,c=setTimeout(E,t),s?p(e):a}function w(e){var n=e-l;return void 0===l||n>=t||n<0||f&&e-u>=i}function E(){var e=v();if(w(e))return L(e);c=setTimeout(E,function(e){var n=t-(e-l);return f?b(n,i-(e-u)):n}(e))}function L(e){return c=void 0,d&&o?p(e):(o=r=void 0,a)}function x(){var e=v(),n=w(e);if(o=arguments,r=this,l=e,n){if(void 0===c)return y(l);if(f)return c=setTimeout(E,t),p(l)}return void 0===c&&(c=setTimeout(E,t)),a}return t=h(t)||0,g(n)&&(s=!!n.leading,i=(f="maxWait"in n)?m(h(n.maxWait)||0,t):i,d="trailing"in n?!!n.trailing:d),x.cancel=function(){void 0!==c&&clearTimeout(c),u=0,o=l=r=c=void 0},x.flush=function(){return void 0===c?a:L(v())},x}function g(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function h(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==d.call(e)}(e))return NaN;if(g(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=g(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var n=a.test(e);return n||c.test(e)?l(e.slice(2),n?2:8):i.test(e)?NaN:+e}o=function(e,t,n){var o=!0,r=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return g(n)&&(o="leading"in n?!!n.leading:o,r="trailing"in n?!!n.trailing:r),p(e,t,{leading:o,maxWait:t,trailing:r})};const y=document.querySelector(".js-modal-form");y.addEventListener("click",(function(t){t.preventDefault(),t.target.classList.contains("active")&&t.target.classList.remove("active");!function(){const t=n.create(w,{onShow:e=>{e.element().querySelector(".modal__close-btn").onclick=e.close,window.addEventListener("keydown",l)},onClose:e=>{window.removeEventListener("keydown",l),setTimeout((()=>{y.classList.add("active")}),500)}});t.show();const r=document.querySelector(".feedback-form");function i(e){e.preventDefault(),e.currentTarget.reset(),localStorage.removeItem("feedback-form-state")}function a(e){let t=localStorage.getItem("feedback-form-state");t=t?JSON.parse(t):{},t[e.target.name]=e.target.value.trim(),localStorage.setItem("feedback-form-state",JSON.stringify(t))}function c(){let e=localStorage.getItem("feedback-form-state");e&&(e=JSON.parse(e),console.log(e),Object.entries(e).forEach((([e,t])=>{r.elements[e].value=t||""})))}function l(e){"Escape"===e.code&&t.close()}c(),r.addEventListener("submit",i),r.addEventListener("input",e(o)(a,500))}()}));const w=' <div class="modal">\n     <button\n      class="modal__close-btn js-modal__close-btn"\n      aria-label="close modal window"\n    >&#10005;\n    </button>\n            <form class="feedback-form" autocomplete="off">\n              <label>\n                Email\n                <input type="email" name="email" autofocus />\n              </label>\n              <label>\n                Message\n                <textarea name="message" rows="8"></textarea>\n              </label>\n              <button type="submit">Submit</button>\n            </form></div>';
//# sourceMappingURL=03-feedback.391bc231.js.map
