{"mappings":"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","sources":["node_modules/@swc/helpers/lib/_class_call_check.js","node_modules/@swc/helpers/lib/_create_class.js","src/app/05-stopwatch.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classCallCheck;\nfunction _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError(\"Cannot call a class as a function\");\n    }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _createClass;\nfunction _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n}\nfunction _defineProperties(target, props) {\n    for(var i = 0; i < props.length; i++){\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n    }\n}\n","import moment from 'moment';\n\nconst stopBtn = document.querySelector('.js-stop');\nconst stopButton = document.querySelector('.js-stop__stopwatch');\nconst startBtn = document.querySelector('.js-start');\nconst startButton = document.querySelector('.js-start__stopwatch');\nconst pauseButton = document.querySelector('.js-pause__stopwatch');\nconst stopAudio = document.querySelector('.js-audio-stop');\nconst startAudio = document.querySelector('.js-audio-start');\nconst pauseAudio = document.querySelector('.js-audio-pause');\nconst timeNow = document.querySelector('.js-time-now');\nconst clockface = document.querySelector('.stopwatch');\n\ntimeNow.textContent = moment().format('dddd, MMMM Do YYYY, h:mm:ss a');\n\nlet timeId = null;\nlet intervalId = null;\nlet elapsedMilliseconds = 0;\nconst millisecondsInSec = 1000;\nconst secondsInMin = 60;\nconst minutesInHour = 60;\nconst hoursInDay = 24;\n\nclass Timer {\n  constructor({ onTick }) {\n    this.isActive = false;\n    this.onTick = onTick;\n  }\n\n  init() {\n    const time = this.getTimeComponents(0);\n    this.onTick(time);\n  }\n\n  start() {\n    if (this.isActive) {\n      return;\n    }\n\n    const startTime = Date.now();\n    this.isActive = true;\n    startAudio.play();\n\n    intervalId = setInterval(() => {\n      startAudio.pause();\n      const currentTime = Date.now();\n      const deltaTime = currentTime - startTime;\n      const time = this.getTimeComponents(deltaTime);\n\n      this.onTick(time);\n    }, 1000);\n  }\n\n  stop() {\n    stopAudio.play();\n    clearInterval(intervalId);\n    this.isActive = false;\n    const time = this.getTimeComponents(0);\n    this.onTick(time);\n  }\n\n  pause() {\n    if (intervalId) {\n      clearInterval(intervalId);\n      intervalId = null;\n    }\n  }\n\n  getTimeComponents(time) {\n    const hours = this.pad(\n      Math.floor((time % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60))\n    );\n    const mins = this.pad(Math.floor((time % (1000 * 60 * 60)) / (1000 * 60)));\n    const secs = this.pad(Math.floor((time % (1000 * 60)) / 1000));\n\n    return { hours, mins, secs };\n  }\n\n  pad(value) {\n    return String(value).padStart(2, '0');\n  }\n}\n\nfunction updateClockface({ hours, mins, secs, milliseconds }) {\n  clockface.textContent = `${hours} : ${mins} : ${secs}`;\n}\n\nconst timer = new Timer({\n  onTick: updateClockface,\n});\n\nstartBtn.addEventListener('click', timer.start.bind(timer));\nstopBtn.addEventListener('click', timer.stop.bind(timer));\n\n// ------- next variant with 3 buttons ------------------------\n\nconst renderStopwatch = str =>\n  (document.querySelector('.stopwatch-next').innerText = str);\n\nconst begin = () => {\n  const initialDate = new Date(Date.now() - elapsedMilliseconds);\n  timeId = setInterval(() => {\n    const delta = new Date() - initialDate;\n\n    elapsedMilliseconds = delta;\n    const milliseconds = Math.floor(delta % millisecondsInSec);\n    const seconds = Math.floor((delta / millisecondsInSec) % secondsInMin);\n    const minutes = Math.floor(\n      (delta / (millisecondsInSec * secondsInMin)) % minutesInHour\n    );\n    const hours = Math.floor(\n      (delta / (millisecondsInSec * secondsInMin * minutesInHour)) % hoursInDay\n    );\n    const days = Math.floor(\n      delta / (millisecondsInSec * secondsInMin * minutesInHour * hoursInDay)\n    );\n\n    const UISeconds = String(seconds).padStart(2, '0');\n    const UIMinutes = String(minutes).padStart(2, '0');\n    const UIHours = String(hours).padStart(2, '0');\n\n    const stopwatcherFormat = `${days} days ${UIHours} : ${UIMinutes} : ${UISeconds} : ${milliseconds}`;\n\n    renderStopwatch(stopwatcherFormat);\n  }, 0);\n};\n\nconst pauseStopwatch = () => {\n  if (timeId) {\n    clearInterval(timeId);\n    timeId = null;\n  }\n};\n\nconst interrupt = () => {\n  pauseStopwatch();\n  elapsedMilliseconds = 0;\n  renderStopwatch('0 days 00:00:00:000');\n};\n\nstartButton.addEventListener('click', e => {\n  startAudio.play();\n  if (timeId) {\n    pauseStopwatch();\n  } else {\n    begin();\n  }\n});\n\npauseButton.addEventListener('click', e => {\n  pauseAudio.play();\n  if (timeId) {\n    pauseStopwatch();\n  } else {\n    begin();\n  }\n});\n\nstopButton.addEventListener('click', e => {\n  stopAudio.play();\n  pauseStopwatch();\n  elapsedMilliseconds = 0;\n  renderStopwatch('0 days 00 : 00 : 00 : 000');\n});\n"],"names":["Object","defineProperty","$665014edacbfe17b$exports","value","default","instance","Constructor","TypeError","$74e7f8130373505f$var$_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","$74e7f8130373505f$exports","protoProps","staticProps","prototype","$a240c3278a262ce0$var$stopBtn","document","querySelector","$a240c3278a262ce0$var$stopButton","$a240c3278a262ce0$var$startBtn","$a240c3278a262ce0$var$startButton","$a240c3278a262ce0$var$pauseButton","$a240c3278a262ce0$var$stopAudio","$a240c3278a262ce0$var$startAudio","$a240c3278a262ce0$var$pauseAudio","$a240c3278a262ce0$var$timeNow","$a240c3278a262ce0$var$clockface","textContent","$parcel$interopDefault","$jR9u2","format","$a240c3278a262ce0$var$timeId","$a240c3278a262ce0$var$intervalId","$a240c3278a262ce0$var$elapsedMilliseconds","$a240c3278a262ce0$var$millisecondsInSec","$a240c3278a262ce0$var$timer","Timer","param","onTick","this","isActive","time","getTimeComponents","startTime","Date","now","play","setInterval","pause","deltaTime","_this","clearInterval","hours","pad","Math","floor","mins","secs","String","padStart","milliseconds","concat","addEventListener","start","bind","stop","$a240c3278a262ce0$var$renderStopwatch","str","innerText","$a240c3278a262ce0$var$begin","initialDate","delta","seconds","minutes","days","UISeconds","UIMinutes","UIHours","stopwatcherFormat","$a240c3278a262ce0$var$pauseStopwatch","e"],"version":3,"file":"05-stopwatch.cb1e8821.js.map"}