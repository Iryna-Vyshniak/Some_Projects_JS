{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,S,aAIA,MAAMC,EAAUC,SAASC,cAAc,uBACjCC,EAAYF,SAASC,cAAc,eAIzC,SAASE,EAAgBC,EAAO,GAC9B,OAAOC,MAAM,mDAAmDD,KAAQE,MACtEC,IACE,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,YAE3B,OAAOH,EAASI,MAAM,G,CAO5B,MAAMC,EAAoB,CACxBC,WAAY,GACZC,aAjBe,GAkBfC,aAAc,EACdC,KAAM,EACNC,aAAa,EACbC,mBAAoB,kBACpBC,kBAAmB,iBACnBC,iBAAiB,EACjBC,SAAU,CACRL,KAAM,gDACNM,YACE,iEACFC,WACE,mGAGFC,mBACE,gHAGFC,WACE,sGAkCN,IAAIC,EAAU,KAGZA,EADEC,OAAOC,OAAOC,OAAS,IA9BF,CACvBhB,WAAY,EACZC,aAAc,GACdC,aAAc,EACdC,KAAM,EACNC,aAAa,EACbC,mBAAoB,kBACpBC,kBAAmB,iBACnBC,iBAAiB,EACjBC,SAAU,CACRL,KAAM,gDACNM,YACE,iEACFC,WACE,mGAGFC,mBACE,gHAGFC,WACE,sGAWMb,EAGZ,MAAMkB,EAAa,IAAIC,EAAAlC,GAAJ,CAAeK,EAAWwB,GACvCM,EAAOF,EAAWG,iBAsCxB,SAASC,EAAaC,GACpB,MAAMC,EAASD,EACZE,KACC,EAACC,KAAEA,EAAIC,MAAEA,EAAKC,QAAEA,KAAc,uGAGhBD,WAAeD,wDAGXA,mCACCE,4kBAeTC,EAAa,4JAKbA,EAAa,2GAIbA,EAAa,yDAKxBC,KAAK,IACR3C,EAAQ4C,UAAYP,C,CA7EtBQ,QAAQC,IAAIb,GAEZF,EAAWgB,GAAG,aAAa,KACzBnB,OAAOoB,SAAS,CAAEC,IAAK,EAAGC,SAAU,UAAW;;AAKjD9C,EAAgB6B,GACb1B,MAAK,EAAG4C,MAAMC,MAAEA,GAAOC,QAAEA,MACnBA,EAAQC,QACXC,EAAAC,OAAOC,QACL,cACG,2CAAqC,QAI5C1B,EAAW2B,MAAMN,GACjBjB,EAAakB,EAAQ,IAEtBM,OAAMC,GAAOf,QAAQC,IAAIc,KAI5B7B,EAAWgB,GAAG,aAEd,SAAuBc,GACrB,MAAMtC,EAAcsC,EAAE5C,KACtB4B,QAAQC,IAAIvB,GACZnB,EAAgBmB,GACbhB,MAAK,EAAC8C,QAAEA,MACPlB,EAAakB,EAAQ,IAEtBM,OAAMC,GAAOf,QAAQC,IAAIc,I,IA+C9B,MAAMlB,EAAeoB,GACZC,KAAKC,MAAMD,KAAKE,SAAWH,EAAM","sources":["src/app/07-pagination.js"],"sourcesContent":["import Pagination from 'tui-pagination';\nimport 'tui-pagination/dist/tui-pagination.css';\nimport { Report } from 'notiflix/build/notiflix-report-aio';\n\nconst gallery = document.querySelector('#pagination-gallery');\nconst container = document.querySelector('#pagination');\n\nconst PER_PAGE = 20;\n\nfunction rickandmortyAPI(page = 1) {\n  return fetch(`https://rickandmortyapi.com/api/character/?page=${page}`).then(\n    response => {\n      if (!response.ok) {\n        throw new Error(response.statusText);\n      }\n      return response.json();\n    }\n  );\n}\n\n// !---- PAGINATION ----------------------------\n\nconst paginationOptions = {\n  totalItems: 10,\n  itemsPerPage: PER_PAGE, // per_page in fetch\n  visiblePages: 7,\n  page: 1,\n  centerAlign: true,\n  firstItemClassName: 'tui-first-child',\n  lastItemClassName: 'tui-last-child',\n  usageStatistics: false,\n  template: {\n    page: '<a href=\"#\" class=\"tui-page-btn\">{{page}}</a>',\n    currentPage:\n      '<strong class=\"tui-page-btn tui-is-selected\">{{page}}</strong>',\n    moveButton:\n      '<a href=\"#\" class=\"tui-page-btn tui-{{type}}\">' +\n      '<span class=\"tui-ico-{{type}}\">{{type}}</span>' +\n      '</a>',\n    disabledMoveButton:\n      '<span class=\"tui-page-btn tui-is-disabled tui-{{type}}\">' +\n      '<span class=\"tui-ico-{{type}}\">{{type}}</span>' +\n      '</span>',\n    moreButton:\n      '<a href=\"#\" class=\"tui-page-btn tui-{{type}}-is-ellip\">' +\n      '<span class=\"tui-ico-ellip\">...</span>' +\n      '</a>',\n  },\n};\n\nconst paginOptionsLess = {\n  totalItems: 0,\n  itemsPerPage: 20,\n  visiblePages: 3,\n  page: 1,\n  centerAlign: true,\n  firstItemClassName: 'tui-first-child',\n  lastItemClassName: 'tui-last-child',\n  usageStatistics: false,\n  template: {\n    page: '<a href=\"#\" class=\"tui-page-btn\">{{page}}</a>',\n    currentPage:\n      '<strong class=\"tui-page-btn tui-is-selected\">{{page}}</strong>',\n    moveButton:\n      '<a href=\"#\" class=\"tui-page-btn tui-{{type}}\">' +\n      '<span class=\"tui-ico-{{type}}\">{{type}}</span>' +\n      '</a>',\n    disabledMoveButton:\n      '<span class=\"tui-page-btn tui-is-disabled tui-{{type}}\">' +\n      '<span class=\"tui-ico-{{type}}\">{{type}}</span>' +\n      '</span>',\n    moreButton:\n      '<a href=\"#\" class=\"tui-page-btn tui-{{type}}-is-ellip\">' +\n      '<span class=\"tui-ico-ellip\">...</span>' +\n      '</a>',\n  },\n};\n\nlet options = null;\n\nif (window.screen.width <= 480) {\n  options = paginOptionsLess;\n} else {\n  options = paginationOptions;\n}\n\nconst pagination = new Pagination(container, options);\nconst page = pagination.getCurrentPage();\nconsole.log(page);\n\npagination.on('afterMove', () => {\n  window.scrollTo({ top: 0, behavior: 'smooth' });\n});\n\n//! --------------------- FETCH API ---------------\n\nrickandmortyAPI(page)\n  .then(({ info: { count }, results }) => {\n    if (!results.length) {\n      Report.failure(\n        'ðŸ¥º Ooops...',\n        `We don't find any cards with heroes\" ðŸ¥º`,\n        'Okay'\n      );\n    }\n    pagination.reset(count);\n    createMarkup(results);\n  })\n  .catch(err => console.log(err));\n\n// !---- PAGINATION ----------------------------\n\npagination.on('afterMove', loadMoreCards); // on => likes on addEventListener\n\nfunction loadMoreCards(e) {\n  const currentPage = e.page;\n  console.log(currentPage);\n  rickandmortyAPI(currentPage)\n    .then(({ results }) => {\n      createMarkup(results);\n    })\n    .catch(err => console.log(err));\n}\n\n// !------------ CREATE MARKUP ---------------------\nfunction createMarkup(arr) {\n  const markup = arr\n    .map(\n      ({ name, image, species }) => `<li class=\"wrapper\">\n    <div class=\"img-area\">\n      <div class=\"inner-area\">\n        <img src=\"${image}\" alt=\"${name}\">\n      </div>\n    </div>\n    <div class=\"name\">${name}</div>\n    <div class=\"about\">${species}</div>\n    <div class=\"social-icons\">\n     <a href=\"#\" class=\"fb\"><i class=\"fab fa-facebook-f\"></i></a>\n      <a href=\"#\" class=\"twitter\"><i class=\"fab fa-twitter\"></i></a>\n      <a href=\"#\" class=\"insta\"><i class=\"fab fa-instagram\"></i></a>\n      <a href=\"#\" class=\"yt\"><i class=\"fab fa-youtube\"></i></a>\n    </div>\n    <div class=\"buttons\">\n      <button>Message</button>\n      <button>Subscribe</button>\n    </div>\n    <div class=\"social-share\">\n      <div class=\"row\">\n         <i class=\"far fa-heart\"></i>\n        <i class=\"icon-2 fas fa-heart\"></i>\n        <span>${randomNumber(1000)}</span>\n      </div>\n      <div class=\"row\">\n        <i class=\"far fa-comment\"></i>\n        <i class=\"icon-2 fas fa-comment\"></i>\n        <span>${randomNumber(1000)}</span>\n      </div>\n      <div class=\"row\">\n        <i class=\"fas fa-share\"></i>\n        <span>${randomNumber(1000)}</span>\n      </div>\n    </div>\n        </li>`\n    )\n    .join('');\n  gallery.innerHTML = markup;\n}\n\nconst randomNumber = max => {\n  return Math.floor(Math.random() * max + 1000);\n};\n"],"names":["$fb9GJ","parcelRequire","$03c6960950ae9995$var$gallery","document","querySelector","$03c6960950ae9995$var$container","$03c6960950ae9995$var$rickandmortyAPI","page1","fetch","then","response","ok","Error","statusText","json","$03c6960950ae9995$var$paginationOptions","totalItems","itemsPerPage","visiblePages","page","centerAlign","firstItemClassName","lastItemClassName","usageStatistics","template","currentPage","moveButton","disabledMoveButton","moreButton","$03c6960950ae9995$var$options","window","screen","width","$03c6960950ae9995$var$pagination","$parcel$interopDefault","$03c6960950ae9995$var$page","getCurrentPage","$03c6960950ae9995$var$createMarkup","arr","markup","map","name","image","species","$03c6960950ae9995$var$randomNumber","join","innerHTML","console","log","on","scrollTo","top","behavior","info","count","results","length","$i37YJ","Report","failure","reset","catch","err","e","max","Math","floor","random"],"version":3,"file":"07-pagination.28c608aa.js.map"}